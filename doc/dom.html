<!doctype><html><head><title>Práce s DOMem - Funkce pro tvorbu elementů, jejich úpravu, získání atd.</title><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link href="codegrinder.css" rel="stylesheet" type="text/css"/></head><body><div class="leftbox"><div class="leftbox-inner"><div class="toc"><h3>Table of contents</h3><ul><li><a href="index.html" class="">Index</a></li><li><a href="core.html" class="">Obecné</a></li><li><a href="deco.html" class="">Metody elementu</a></li><li><a href="dombuilder.html" class="">DOM Builder</a></li><li><a href="dom.html" class="selectedfile">Práce s DOMem</a><ul><li><a href="#jax_make" id="link_jax_make" class="toc_function">JAX.make()</a></li><li><a href="#jax_mmake" id="link_jax_mmake" class="toc_function">JAX.mmake()</a></li><li><a href="#jax_modify" id="link_jax_modify" class="toc_function">JAX.modify()</a></li><li><a href="#jax_query" id="link_jax_query" class="toc_function">JAX.query()</a></li><li><a href="#jax_offscreenmeter" id="link_jax_offscreenmeter" class="toc_function">JAX.OffScreenMeter()</a></li></ul></li><li><a href="element.html" class="">Elementy & Kolekce</a></li></ul></div><br/>Created with CodeGrinder 1.1<br/>by <a href="http://zamraky.cz">Gindar</a><br/><br/></div></div><div class="content"><a class="indexlink" href="index.html">index</a><h1>Práce s DOMem</h1><div class="content-inner">Funkce pro tvorbu elementů, jejich úpravu, získání atd. <div class="box box_base"> <div class="box_desc"> </div> </div> <div class="box box_function"> <h3 id="jax_make" class="t_function"><span class="name">JAX.make</span>(<span class="arg">q</span>, <span class="arg">attrs</span>, [<span class="arg">doc<span class="optional">=document</span></span>, [<span class="arg">nodecor<span class="optional">=<span class="bool">false</span></span></span>]])</h3> <div class="box_desc"> Funkce vytvoří element dle zadané "CSS query" *def*. Elementu je možno nastavit další vlastnosti <span class="arg">attrs</span> (jde od asoc. pole). Dále je možné určit dokument (<span class="arg">doc</span>) v jehož kontextu se element vytvoří.<br> Pokud je <span class="arg">nodecor</span> true pak nebude vytvořený element automaticky odekorován. <h4>Příklad</h4> <div class="example"><pre><span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;div.trida1.trida2&quot;</span> <span class="p">)</span><span class="c1">// vystupem je &lt;div class=&quot;trida1 trida2&quot;/&gt;</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;div#idecko.trida1&quot;</span> <span class="p">)</span><span class="c1">// vystupem je &lt;div id=&quot;idecko&quot; class=&quot;trida1&quot;/&gt;</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Popis&quot;</span> <span class="p">}</span> <span class="p">)</span><span class="c1">// vystupem je &lt;div title=&quot;Popis&quot; alt=&quot;Popis&quot;/&gt;</span>
</pre></div>
 <h4>Seznam možných vlastností (attrs)</h4> <table width="98%" class="table"> 	<tr> 		<th>Název</th> 		<th>Hodnota</th> 		<th>Co dělá</th> 	</tr> 	<tr><td>html</td><td>HTML</td><td>Vloží do elementu html (zkratka pro innerHTML)</td></tr> 	<tr><td>addhtml</td><td>HTML</td><td>Přidá do elementu html (zkratka pro innerHTML+=...)</td></tr> 	<tr><td>position</td><td>abs/rel/relative/absolute</td><td>nastavuje style.position</td></tr> 	<tr><td>width</td><td>číslo (1) nebo string ("1px")</td><td>nastavuje style.width (pokud je zadáno číslo použijí se PX)</td></tr> 	<tr><td>height</td><td>číslo (1) nebo string ("1px")</td><td>nastavuje style.height (pokud je zadáno číslo použijí se PX)</td></tr> 	<tr><td>left</td><td>číslo (1) nebo string ("1px")</td><td>nastavuje style.left (pokud je zadáno číslo použijí se PX)</td></tr> 	<tr><td>top</td><td>číslo (1) nebo string ("1px")</td><td>nastavuje style.top (pokud je zadáno číslo použijí se PX)</td></tr> 	<tr><td>style</td><td>asoc. pole</td><td>nastaví elementu style dle obsahu pole Např.: {"color":"#F00","zIndex":120}</td></tr> </table> <br/> Dále je mozno zadat různé události viz JAX._elmEvents. A teoreticky jakoukoli jinou vlastnost elementu.	Např.: target, href, name, src ...<br> <div class="example"><pre><span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;click&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">elm</span><span class="p">){</span> <span class="p">...</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="s2">&quot;160px&quot;</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/path/to&quot;</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span> <span class="s2">&quot;img&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;src&quot;</span><span class="o">:</span> <span class="s2">&quot;naha_baba.png&quot;</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
 </div> </div> <div class="box box_function"> <h3 id="jax_mmake" class="t_function"><span class="name">JAX.mmake</span>(<span class="arg">q</span>, <span class="arg">number</span>, <span class="arg">func</span>, <span class="arg">doc</span>, <span class="arg">nodecor</span>)</h3> <div class="box_desc"> undocumented </div> </div> <div class="box box_function"> <h3 id="jax_modify" class="t_function"><span class="name">JAX.modify</span>(<span class="arg">elm</span>, <span class="arg">attrs</span>)</h3> <div class="box_desc"> undocumented </div> </div> <div class="box box_function"> <h3 id="jax_query" class="t_function"><span class="name">JAX.query</span>(<span class="arg">query</span>, [<span class="arg">context</span>])</h3> <div class="box_desc"> Vrací elementy vyhovující zadané <span class="arg">query</span>. Lze zadat <span class="arg">context</span> což jest element nebo dokument v jehož potomcích se hledá. Vždy vrací pole elementů.<br/><br/> <b>Co to umí?</b> <div class="example"><pre><span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;div&quot;</span> <span class="p">)</span> <span class="c1">// vraci vsechny elementy &lt;div&gt;</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;.trida&quot;</span> <span class="p">)</span> <span class="c1">// vraci vsechny elementy se tridou trida</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;#trida&quot;</span> <span class="p">)</span> <span class="c1">// vraci element s id=trida</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;div.xxx *&quot;</span> <span class="p">)</span> <span class="c1">// vraci vsechny potomky divu</span>
<span class="c1">// lze pouzit vice trid</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;div.xxx.yyy.mmm&quot;</span> <span class="p">)</span> <span class="c1">// vraci vsechny potomky divu s tridami xxx,yyy,mmm</span>
<span class="c1">// a libovolne kombinace a cesty</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;div.xxx span.trida&quot;</span> <span class="p">)</span>
<span class="c1">// rovnez umi vice queries za sebou, elementy budou v jednom poli ( oddeluje se carkou )</span>
<span class="nx">JAX</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span> <span class="s2">&quot;div.xxx,span.yyy,a.mmm&quot;</span> <span class="p">)</span> <span class="c1">// vraci &lt;div class=&quot;xxx&quot;&gt;, &lt;span class=&quot;yyy&quot;&gt; &lt;a class=&quot;mmm&quot;&gt;</span>
</pre></div>
 <div class="warning"> Prvek * lze použít až od verze 1.17<br/> </div> </div> </div> <div class="box box_function"> <h3 id="jax_offscreenmeter" class="t_function"><span class="name">JAX.OffScreenMeter</span>(<span class="arg">elm</span>, [<span class="arg">meterindom</span>])</h3> <div class="box_desc"> Změří rozměry elementu bez nutnosti jeho appendování do dokumentu. Fce funguje tak, že vytvoří kopii elementu a vloží ji jako první element v body, poté se "přečtou" hodnoty offsetWidth a offsetHeight.<br> Vrací: {width:#,height:#}<br/> <br/> <div class="note"> Verze 1.15: Pokud je zadán volitelný argument <span class="arg">meterindom</span> pak se vytvořená kopie elementu nevkládá jako první element v body, ale před stávajicí element - tudíže lze takto měřit jen elementy již vložené do dokumentu (neplatí tedy první věta dokumentace této fce). Výhodou je, že na element jsou aplikována CSS pravidla odpovídajicí jeho umístění v dokumentu.<br/> </div> </div> </div> </div></div><script type="text/javascript">__highlighted = "";function update_hilit(){var name = location.hash.replace("#","");if( __highlighted != name ){clear_hilit(__highlighted);__highlighted = name;elm = document.getElementById( name );if( elm ){elm.className+=" selected"};elm = document.getElementById( 'link_'+name );if( elm ){elm.className+=" selected"};}};function clear_hilit(name){elm = document.getElementById( name );if( elm ){elm.className=elm.className.replace(" selected",""); };elm = document.getElementById( "link_"+name );if( elm ){elm.className=elm.className.replace(" selected",""); };}setInterval(update_hilit,200);update_hilit();</script></body></html>