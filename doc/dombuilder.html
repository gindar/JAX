<!doctype><html><head><title>DOM Builder - Pohodlnější vytváření struktury HTMLElementů</title><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link href="codegrinder.css" rel="stylesheet" type="text/css"/></head><body><div class="leftbox"><div class="leftbox-inner"><div class="toc"><h3>Table of contents</h3><ul><li><a href="index.html" class="">Index</a></li><li><a href="core.html" class="">Obecné</a></li><li><a href="deco.html" class="">Metody elementu</a></li><li><a href="dombuilder.html" class="selectedfile">DOM Builder</a><ul><li><a href="#jax_dombuilder" id="link_jax_dombuilder" class="toc_class">class&nbsp;JAX.DOMBuilder</a></li><li><a href="#jax_dombuilder_addbox" id="link_jax_dombuilder_addbox" class="toc_method">addBox()</a></li><li><a href="#jax_dombuilder_endbox" id="link_jax_dombuilder_endbox" class="toc_method">endBox()</a></li><li><a href="#jax_dombuilder_addtext" id="link_jax_dombuilder_addtext" class="toc_method">addText()</a></li><li><a href="#jax_dombuilder_add" id="link_jax_dombuilder_add" class="toc_method">add()</a></li><li><a href="#jax_dombuilder_addelement" id="link_jax_dombuilder_addelement" class="toc_method">addElement()</a></li><li><a href="#jax_dombuilder_addboxelement" id="link_jax_dombuilder_addboxelement" class="toc_method">addBoxElement()</a></li><li><a href="#jax_dombuilder_getdom" id="link_jax_dombuilder_getdom" class="toc_method">getDom()</a></li><li><a href="#jax_dombuilder_appendto" id="link_jax_dombuilder_appendto" class="toc_method">appendTo()</a></li><li><a href="#jax_dombuilder_addtemplate" id="link_jax_dombuilder_addtemplate" class="toc_method">addTemplate()</a></li></ul></li><li><a href="dom.html" class="">Práce s DOMem</a></li><li><a href="element.html" class="">Elementy & Kolekce</a></li></ul></div><br/>Created with CodeGrinder 1.1<br/>by <a href="http://zamraky.cz">Gindar</a><br/><br/></div></div><div class="content"><a class="indexlink" href="index.html">index</a><h1>DOM Builder</h1><div class="content-inner">Pohodlnější vytváření struktury HTMLElementů <div class="box box_base"> <div class="box_desc"> </div> </div> <div class="box box_class"> <h3 id="jax_dombuilder" class="t_class"><span class="type">class</span>&nbsp;<span class="name">JAX.DOMBuilder</span>([<span class="arg">doc<span class="optional">=document</span></span>])</h3> <div class="box_desc"> Třída slouží k pohodlnějšímu vytváření struktury HTMLElementů. <span class="arg">doc</span> určuje v jakém kontextu se budou elementy tvořit. <div class="example"><pre><span class="kd">var</span> <span class="nx">elm</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">dom</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JAX</span><span class="p">.</span><span class="nx">DOMBuilder</span><span class="p">();</span>
<span class="nx">dom</span><span class="p">.</span><span class="nx">addBox</span><span class="p">(</span><span class="s2">&quot;div.trida1&quot;</span><span class="p">,{</span> <span class="s2">&quot;style&quot;</span><span class="o">:</span><span class="p">{</span> <span class="s2">&quot;background&quot;</span><span class="o">:</span> <span class="s2">&quot;#f00&quot;</span> <span class="p">}</span> <span class="p">});</span>
	<span class="nx">dom</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;a#odkaz&quot;</span><span class="p">,{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/path/to&quot;</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="o">:</span> <span class="s2">&quot;Odkaz&quot;</span> <span class="p">});</span>
	<span class="nx">dom</span><span class="p">.</span><span class="nx">addBoxElement</span><span class="p">(</span> <span class="nx">elm</span> <span class="p">);</span>
		<span class="nx">dom</span><span class="p">.</span><span class="nx">addText</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span>
	<span class="nx">dom</span><span class="p">.</span><span class="nx">endBox</span><span class="p">();</span>
<span class="nx">dom</span><span class="p">.</span><span class="nx">endBox</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">frag</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">getDom</span><span class="p">();</span><span class="c1">// strom vytvořených elementů</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">frag</span> <span class="p">);</span>
<span class="c1">// v tomto místě je frag jen prázdný documentFragment</span>
</pre></div>
 <b>Výstup zapsaný v HTML:</b> <div class="example"><pre><span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;trida&quot;</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background:#f00&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;odkaz&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/path/to&quot;</span><span class="o">&gt;</span><span class="nx">Odkaz</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
		<span class="nx">Test</span><span class="o">&lt;</span><span class="nx">br</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</pre></div>
 <div class="note"> Elementy vytvořené metodami <a class="funclink" href="#jax_dombuilder_add">add</a> a <a class="funclink" href="#jax_dombuilder_addbox">addBox</a> jsou odekorovány pomocí <a class="funclink external" href="element.html#jax_$$">JAX.$$</a>.<br/> Pokud vytváříme větší množství elementů je vhodné dekorování vypnout a použít jej jen tam, kde bude opravdu potřeba. <br/> K tomu slouží vlastnost .decorating, která je defaultně true.<br/> </div> </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_addbox" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">addBox</span>(<span class="arg">def</span>, [<span class="arg">attrs</span>])</h3> <div class="box_desc"> Metoda je shodná s <a class="funclink" href="#jax_dombuilder_add">add</a> s tím rozdílem, že vytvořený element je kontejnerem a další vložené elementy budou potomky tohoto elementu. <b>Argumenty jsou shodné s <a class="funclink" href="#jax_dombuilder_add">add</a>.</b> <div class="note"> Metoda vrací referenci na vytvořený element.<br/> </div> </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_endbox" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">endBox</span>(<span class="arg"></span>)</h3> <div class="box_desc"> Metoda "uzavře" aktuální kontejnerový element a další vkládáné elementy budou potomky rodiče. </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_addtext" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">addText</span>(<span class="arg">txt</span>)</h3> <div class="box_desc"> Metoda je funguje podobně jako <a class="funclink" href="#jax_dombuilder_add">add</a> jen vkládá do elementu <span class="arg">txt</span> (čistý text - createTextNode). </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_add" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">add</span>(<span class="arg">def</span>, [<span class="arg">attrs<span class="optional">=<span class="bool">None</span></span></span>])</h3> <div class="box_desc"> Vytvoří a přidá do aktuálního umístění nový element. Argument <span class="arg">def</span> je stejný jako u <a class="funclink external" href="dom.html#jax_make">JAX.make</a>, tedy string podobný CSS query. <span class="arg">attrs</span> je asoc. pole parametrů, opět funguje stejně jako u <a class="funclink external" href="dom.html#jax_make">JAX.make</a>. <div class="note"> Metoda vrací referenci na vytvořený element.<br/> </div> </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_addelement" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">addElement</span>(<span class="arg">elm</span>)</h3> <div class="box_desc"> Funguje podobně jako metoda <a class="funclink" href="#jax_dombuilder_add">add</a> s tím rozdílem, že jako argument předáváme již vytvořený element. </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_addboxelement" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">addBoxElement</span>(<span class="arg">elm</span>)</h3> <div class="box_desc"> Funguje podobně jako metoda <a class="funclink" href="#jax_dombuilder_addbox">addBox</a> s tím rozdílem, že jako argument předáváme již vytvořený element. Kontejner se uzavře pomocí <a class="funclink" href="#jax_dombuilder_endbox">endBox</a>. </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_getdom" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">getDom</span>(<span class="arg"></span>)</h3> <div class="box_desc"> Vrací celý již vytvořený strom elementů jako DocumentFragment. Není vhodné využívat výstup této metody k uchování reference na celý strom elementů, jelikož po appendnutí do dokumentu se documentFragment vyprázdní. </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_appendto" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">appendTo</span>(<span class="arg">elm</span>)</h3> <div class="box_desc"> Vloží vygenerované elementy do zadaného elementu <span class="arg">elm</span> :) </div> </div> <div class="box box_method"> <h3 id="jax_dombuilder_addtemplate" class="t_method"><a class="methodclass" href="#jax_dombuilder">JAX.DOMBuilder</a>.<span class="name">addTemplate</span>(<span class="arg">template</span>, <span class="arg">data</span>)</h3> <div class="box_desc"> Tato mocná metoda přijímá v argumentu <span class="arg">template</span> string nebo element jež poslouží jako šablona pro <span class="arg">data</span>.<br/> Základem je string či innerHTML ze zadaného elementu. V této "šabloně" se nahrazují určité řetězce daty předanými v <span class="arg">data</span>. <span class="arg">data</span> mohou být i polem, v tom případě slouží šablona jako předloha pro jeden prvek pole.<br/> Pokud je <span class="arg">template</span> element vezme se jako šablona jeho innerHTML. <h4>Příklad addTemplate</h4> <div class="example"><pre><span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Hynek&quot;</span><span class="p">,</span> <span class="s2">&quot;sex&quot;</span><span class="o">:</span> <span class="s2">&quot;muž&quot;</span><span class="p">,</span> <span class="s2">&quot;prsa&quot;</span><span class="o">:</span> <span class="kc">false</span> <span class="p">},</span>
	<span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Jarmila&quot;</span><span class="p">,</span> <span class="s2">&quot;sex&quot;</span><span class="o">:</span> <span class="s2">&quot;žena&quot;</span><span class="p">,</span> <span class="s2">&quot;prsa&quot;</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
	<span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Vilém&quot;</span><span class="p">,</span> <span class="s2">&quot;sex&quot;</span><span class="o">:</span> <span class="s2">&quot;muž&quot;</span><span class="p">,</span> <span class="s2">&quot;prsa&quot;</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
<span class="p">]</span>
<span class="nx">template</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;{:first}{:last}&quot;&gt;{:number}. Jméno:{name} ({sex}) {:index} {:if prsa}Má prsa{/}&lt;/div&gt;&#39;</span>
<span class="kd">var</span> <span class="nx">dom</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JAX</span><span class="p">.</span><span class="nx">DOMBuilder</span><span class="p">();</span>
<span class="nx">dom</span><span class="p">.</span><span class="nx">addBox</span><span class="p">(</span><span class="s2">&quot;div.trida1&quot;</span><span class="p">);</span>
	<span class="nx">dom</span><span class="p">.</span><span class="nx">addTemplate</span><span class="p">(</span> <span class="nx">template</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span>
<span class="nx">dom</span><span class="p">.</span><span class="nx">endBox</span><span class="p">();</span>
</pre></div>
 Výstup zapsaný v HTML: <div class="example"><pre><span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot; trida1&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">.</span> <span class="nx">Jm</span><span class="err">é</span><span class="nx">no</span><span class="o">:</span><span class="nx">Hynek</span> <span class="p">(</span><span class="nx">mu</span><span class="err">ž</span><span class="p">)</span> <span class="mi">0</span> <span class="o">&lt;</span><span class="err">/div&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">.</span> <span class="nx">Jm</span><span class="err">é</span><span class="nx">no</span><span class="o">:</span><span class="nx">Jarmila</span> <span class="p">(</span><span class="err">ž</span><span class="nx">ena</span><span class="p">)</span> <span class="mi">1</span> <span class="nx">M</span><span class="err">á</span> <span class="nx">prsa</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">.</span> <span class="nx">Jm</span><span class="err">é</span><span class="nx">no</span><span class="o">:</span><span class="nx">Vil</span><span class="err">é</span><span class="nx">m</span> <span class="p">(</span><span class="nx">mu</span><span class="err">ž</span><span class="p">)</span> <span class="mi">2</span> <span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</pre></div>
 <h4>Syntaxe & příkazy</h4> <p> 	<b>{key}</b> - toto je nahrazeno odpovídajicí hodnotou z data ( data"key" )<br> 	<b>{:index}</b> - pokud je data pole pak každá položka má svůj index, tímto jej můžeme vypsat do šablony<br> 	<b>{:number}</b> - podobné jako index, ale počítá se od 1 nikoli od 0<br> 	<b>{:first}</b> a <b>{:last}</b> - tímto lze označit první a poslední položku {:first} se nahradí obsahem <b>JAX.DOMBuilder.FIRST_STRING</b> a {:last}  	tímto <b>JAX.DOMBuilder.LAST_STRING</b> ( můžete si je tedy sami nastavit - defaultně jsou "first" a "last" )<br> 	<b>{:if key}něco{/}</b> - vypíše "něco" pokud je hodnota skrývající se pod zadaným klíčem == true jinak nic<br> </p> </div> </div> </div></div><script type="text/javascript">__highlighted = "";function update_hilit(){var name = location.hash.replace("#","");if( __highlighted != name ){clear_hilit(__highlighted);__highlighted = name;elm = document.getElementById( name );if( elm ){elm.className+=" selected"};elm = document.getElementById( 'link_'+name );if( elm ){elm.className+=" selected"};}};function clear_hilit(name){elm = document.getElementById( name );if( elm ){elm.className=elm.className.replace(" selected",""); };elm = document.getElementById( "link_"+name );if( elm ){elm.className=elm.className.replace(" selected",""); };}setInterval(update_hilit,200);update_hilit();</script></body></html>